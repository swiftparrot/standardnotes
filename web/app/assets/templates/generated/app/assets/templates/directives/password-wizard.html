<div class='sn-component'>
<div class='sk-modal small auto-height' id='password-wizard'>
<div class='sk-modal-background'></div>
<div class='sk-modal-content'>
<div class='sn-component'>
<div class='sk-panel'>
<div class='sk-panel-header'>
<div class='sk-panel-header-title'>{{title}}</div>
<a class='sk-a info close-button' ng-click='dismiss()'>Close</a>
</div>
<div class='sk-panel-content'>
<div ng-if='step == 0'>
<div ng-if='changePassword'>
<p class='sk-p sk-panel-row'>
Changing your password involves changing your encryption key, which requires your data to be re-encrypted and synced.
If you have many items, syncing your data can take several minutes.
</p>
<p class='sk-p sk-panel-row'>You must keep the application window open during this process.</p>
</div>
<div ng-if='securityUpdate'>
<p class='sk-p sk-panel-row'>
A new update is available for your account. Updates address improvements and enhancements to our security specification.
This process will guide you through the update, and perform the steps necessary with your supervision.
</p>
<div class='sk-panel-row'>
<div class='sk-panel-column'>
<p class='sk-p'>For more information about security updates, please visit</p>
<a class='sk-a info' href='https://standardnotes.org/help/security' rel='noopener' target='_blank'>standardnotes.org/help/security.</a>
</div>
</div>
</div>
<p class='sk-panel-row sk-p'>
<div class='info'>Press Continue to proceed.</div>
</p>
</div>
<div class='sk-panel-section' ng-if='step &gt; 0'>
<div class='sk-panel-section-title'>Step {{step}} — {{titleForStep(step)}}</div>
<div ng-if='step == 1'>
<p class='sk-panel-row sk-p'>
As a result of this process, the entirety of your data will be re-encrypted and synced to your account. This is a generally safe process,
but unforeseen factors like poor network connectivity or a sudden shutdown of your computer may cause this process to fail.
It's best to be on the safe side before large operations such as this one.
</p>
<div class='sk-panel-row'></div>
<div class='sk-panel-row'>
<div class='sk-button-group'>
<div class='sk-button info' ng-click='downloadBackup(true)'>
<div class='sk-label'>Download Encrypted Backup</div>
</div>
<div class='sk-button info' ng-click='downloadBackup(false)'>
<div class='sk-label'>Download Decrypted Backup</div>
</div>
</div>
</div>
</div>
<div ng-if='step == 2'>
<p class='sk-p sk-panel-row'>
As a result of this process, your encryption keys will change.
Any device on which you use Standard Notes will need to end its session. After this process completes, you will be asked to sign back in.
</p>
<p class='sk-p bold sk-panel-row info-i'>Please sign out of all applications (excluding this one), including:</p>
<ul>
<li class='sk-p'>Desktop</li>
<li class='sk-p'>Web (Chrome, Firefox, Safari)</li>
<li class='sk-p'>Mobile (iOS and Android)</li>
</ul>
<p class='sk-p sk-panel-row'>
If you do not currently have access to a device you're signed in on, you may proceed,
but must make signing out and back in the first step upon gaining access to that device.
</p>
<p class='sk-p sk-panel-row'>Press Continue only when you have completed signing out of all your devices.</p>
</div>
<div ng-if='step == 3'>
<div ng-if='changePassword'></div>
<div ng-if='securityUpdate'>
<p class='sk-panel-row'>Enter your current password. We'll run this through our encryption scheme to generate strong new encryption keys.</p>
</div>
<div class='sk-panel-row'></div>
<div class='sk-panel-row'>
<div class='sk-panel-column stretch'>
<form class='sk-panel-form'>
<input class='sk-input contrast' ng-model='formData.currentPassword' placeholder='Current Password' should-focus='true' sn-autofocus='true' type='password'>
<input class='sk-input contrast' ng-if='changePassword' ng-model='formData.newPassword' placeholder='New Password' type='password'>
<input class='sk-input contrast' ng-if='changePassword' ng-model='formData.newPasswordConfirmation' placeholder='Confirm New Password' type='password'>
</form>
</div>
</div>
</div>
<div ng-if='step == 4'>
<p class='sk-panel-row'>
Your data is being re-encrypted with your new keys and synced to your account.
</p>
<p class='sk-panel-row danger' ng-if='lockContinue'>
Do not close this window until this process completes.
</p>
<div class='sk-panel-row'>
<div class='sk-panel-column'>
<div class='sk-spinner small inline info mr-5' ng-if='formData.processing'></div>
<div class='inline bold' ng-class='{&#39;info&#39; : !formData.statusError, &#39;error&#39; : formData.statusError}'>
{{formData.status}}
</div>
</div>
<div class='sk-panel-column' delay-hide='true' delay='1000' show='syncStatus.syncOpInProgress || syncStatus.needsMoreSync'>
<p class='info'>
Syncing {{syncStatus.current}}/{{syncStatus.total}}
</p>
</div>
</div>
</div>
<div ng-if='step == 5'>
<div ng-if='changePassword'>
<p class='sk-p sk-panel-row info-i'>Your password has been successfully changed.</p>
</div>
<div ng-if='securityUpdate'>
<p class='sk-p sk-panel-row info-i'>
The security update has been successfully applied to your account.
</p>
</div>
<p class='sk-p sk-panel-row'>
Please ensure you are running the latest version of Standard Notes on all platforms to ensure maximum compatibility.
</p>
<p class='sk-p sk-panel-row'>You may now sign back in on all your devices and close this window.</p>
</div>
</div>
</div>
<div class='sk-panel-footer'>
<div class='empty'></div>
<a class='sk-a info right' ng-class='{&#39;disabled&#39; : lockContinue}' ng-click='continue()' ng-disabled='lockContinue'>
<div class='sk-spinner small inline info mr-5' ng-if='showSpinner'></div>
{{continueTitle}}
</a>
</div>
</div>
</div>
</div>
</div>
</div>
